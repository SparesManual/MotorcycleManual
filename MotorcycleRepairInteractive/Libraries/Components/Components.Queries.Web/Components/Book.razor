@page "/book/{itemId:int}"
@inherits MRI.MVVM.Web.Helpers.BaseItemComponent<ViewModels.Interfaces.Queries.IBookViewModel, Models.Interfaces.Entities.IBook>

<h2>@ViewModel?.Item?.Title</h2>

<BookModels ItemId="ItemId"/>

<BookSections BookId="ItemId" CurrentSectionChanged="@Callback"/>

<SectionParts @ref="m_sectionParts"/>

@code {
#nullable enable

  private SectionParts? m_sectionParts;

  private async void Callback(int? section)
  {
    if (m_sectionParts != null) await m_sectionParts.ChangeSectionAsync(section).ConfigureAwait(false);
  }

}
