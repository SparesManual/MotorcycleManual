<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Spares Manual</title>
  <base href="/"/>
  <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet"/>

  <!-- Start Radzen -->
  <link rel="stylesheet" href="_content/Radzen.Blazor/css/default-base.css">
  <script src="_content/Radzen.Blazor/Radzen.Blazor.js"></script>
  <!-- End Radzen -->

  <!-- Start AntBlazor -->
  <link href="_content/AntDesign/css/ant-design-blazor.css" rel="stylesheet"/>
  <script src="_content/AntDesign/js/ant-design-blazor.js"></script>
  <!-- End AntBlazor -->

  <!-- Start MudBlazor -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
  <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet"/>
  <!-- End MudBlazor-->

  <link href="css/app.css" rel="stylesheet"/>
  <link href="manifest.json" rel="manifest"/>
  <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png"/>
</head>

<body>
<app>
  <div id="root">
    <style>
        html, body, #root {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #000D24;
        }
    </style>
    <div style="position:absolute; top:40vh; width:100%; text-align:center">
      <img src="logo.svg" style="max-width: 600px" alt="Spares Manual"/>
      <p style="color: white; margin-top: 50px">The application is loading... <span id="wasmprogress"></span></p>
    </div>
  </div>
</app>

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <!-- ReSharper disable once UnknownCssClass -->
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>
<script src="_framework/blazor.webassembly.js" autostart="false"></script>
<script>
    let i = 0;
    const allResourcesBeingLoaded = [];
    Blazor.start({
        loadBootResource: function(type,name,defaultUri,integrity) {
            if(type === "dotnetjs")
                return defaultUri;

            const f = fetch(defaultUri, {
                cache: 'no-cache',
                integrity: integrity,
                headers: {'MyCustomHeader': 'My custom value'}
            });

            function rounder (num, places, mode) {
                const mult = parseInt("1" + "0".repeat(places));
                num *= mult;

                switch (mode) {
                    case 1:
                        num = Math.ceil(num);
                        break;
                    case 0:
                        num = Math.floor(num);
                        break;
                    default:
                        num = Math.round(num);
                        break;
                }

                return num / mult;
            }

            allResourcesBeingLoaded.push(f);
            f.then(_ => {
                i++;
                const progress = document.getElementById("wasmprogress");
                const l = allResourcesBeingLoaded.length;
                progress.innerHTML = rounder(100 * i / l, 2) + "%";
            });
            return f;
        }
    });
</script>
<script>navigator.serviceWorker.register('service-worker.js');</script>

<!-- Start MudBlazor -->
<script src="_content/MudBlazor/MudBlazor.min.js"></script>
<!-- End MudBlazor -->
</body>

</html>
